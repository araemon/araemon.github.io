---
title:"バーチャルホストで.htaccessが無視される？"
date:"2018-09-02"
category:"blog"
---
image300:https://cdn-ak.f.st-hatena.com/images/fotolife/a/araemonz/20180901/20180901094614.png
「バーチャルホストのドメインでアクセス」した場合と、「メインドメイン + フォルダを指定してアクセス」した場合の動作が異なることを発見した。
どうも、バーチャルホストでのアクセスだと.htaccessが読み込まれないようであった。
原因は、「AllowOverride None」を追記してしまったこと。下記のように「AllowOverride All」としたら、.htaccessの設定がちゃんと反映されるようになった。
```
<VirtualHost *:80&gt;
        ServerName hoge.xxxxxxxxxxx.com
        DocumentRoot /home/xxxxxxxxxxx/hoge
        &lt;Directory "/home/xxxxxxxxxxx/hoge"&gt;
             Options FollowSymLinks
             AllowOverride All
             Order deny,allow
             Allow from all
        &lt;/Directory&gt;
</VirtualHost&gt;
```

<a target="_blank"  href="https://www.amazon.co.jp/gp/product/4797380942/ref=as_li_tl?ie=UTF8&camp=247&creative=1211&creativeASIN=4797380942&linkCode=as2&tag=101010fun-22&linkId=872638ff825350ab40e56586340a0fd7"><img border="0" src="//ws-fe.amazon-adsystem.com/widgets/q?_encoding=UTF8&MarketPlace=JP&ASIN=4797380942&ServiceVersion=20070822&ID=AsinImage&WS=1&Format=_SL250_&tag=101010fun-22" ></a><img src="//ir-jp.amazon-adsystem.com/e/ir?t=101010fun-22&l=am2&o=9&a=4797380942" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />